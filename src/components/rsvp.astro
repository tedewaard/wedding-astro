---

const { class: className } = Astro.props;

if (Astro.request.method === "POST") {
    try {
        const data = await Astro.request.formData();
        const name = data.get("name");
        const song = data.get("song");
        console.log(name);
        console.log(song);
    } catch (error) {
        if (error instanceof Error) {
            console.error(error.message);
        }
    }
}

---

<div class={className}>
<div class="border-black rounded-3xl border-4 w-3/12 mx-auto ">
	<h2 class="text-center underline text-2xl font-bold">RSVP</h2>
	<p class="text-center font-bold">October 19, 2024</p>	
	<p class="text-center text-sm font-bold">4PM - 11PM</p>	
    <form method="POST" class="">
        <div class="flex mx-auto w-4/5 my-4">
            <div class="mr-4 whitespace-nowrap">
                <label for="name">Name:</label><br>
                <label for="song">Song Request:</label>
            </div>
            <div class="min-w-0">
                <input class="max-w-full border rounded-lg border-black" type="text" id="name" name="name" required><br>
                <input class="max-w-full border rounded-lg border-black" type="text" id="song" name="song"><br>
            </div>
        </div>
        <div class="flex">
            <input id="submit" class="mb-4 mx-auto w-1/3 text-center border-black border rounded-lg" type="submit" value="Submit">
        </div>
    </form>
</div>
</div>